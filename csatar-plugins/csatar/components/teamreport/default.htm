<div>
    {% component 'basicForm' %}

    {% if __SELF__.action == 'modositas' and __SELF__.teamReport.created_at is not null and __SELF__.teamReport.submitted_at is null %}
        <button class="btn btn-sm rounded btn-primary"
            data-request="{{ __SELF__ }}::onSubmit"
            data-request-data="id: {{ __SELF__.id }}"
            data-request-loading="#fs-saving-loader">
            <i class="csat-check-fill-wh-sm"></i>
            {{ 'Csapatjelentés beküldése'|_ }}
        </button>
    {% endif %}

    {% if __SELF__.action == 'modositas' and __SELF__.teamReport.created_at is not null and __SELF__.teamReport.submitted_at is null %}
    <button class="btn btn-sm rounded btn-primary"
            data-request="{{ __SELF__ }}::onRefresh"
            data-request-data="id: {{ __SELF__.id }}"
            data-request-loading="#fs-saving-loader"
            data-request-update="'{{ __SELF__ }}::additionalData': '#additionalData'">
        <i class="csat-refresh-fill-wh-sm"></i>
        {{ 'Csapatjelentés frissítése'|_ }}
    </button>
    {% endif %}

    {% if __SELF__.permissions['approved_at']['update'] > 0 and __SELF__.action == null and __SELF__.teamReport.submitted_at is not null and __SELF__.teamReport.approved_at is null %}
        <button class="btn btn-sm rounded btn-primary"
            data-request="{{ __SELF__ }}::onApprove"
            data-request-flash
            data-request-data="id: {{ __SELF__.id }}, redirectFromWaitingForApproval: {{ __SELF__.redirectFromWaitingForApproval }}"
            data-request-loading="#fs-saving-loader">
            <i class="csat-check-fill-wh-sm"></i>
            {{ 'Csapatjelentés jóváhagyása'|_ }}
        </button>
    {% endif %}

    {% if __SELF__.action == 'modositas' %}
        <button class="btn btn-sm rounded btn-primary"
                data-request="{{ __SELF__ }}::onDownloadPdf"
                data-request-data="id: {{ __SELF__.id }}"
                data-request-loading="#fs-saving-loader">
            <i class="csat-arrowdown-fill-wh-sm"></i>
            {{ 'Csapatjelentés letöltése'|_ }}
        </button>
    {% endif %}
</div>
