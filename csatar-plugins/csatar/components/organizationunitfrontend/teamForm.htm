{% component 'basicForm' %}
{% partial __SELF__ ~ '::inactiveMandates' model=model %}
{% set permissions = __SELF__.permissions %}

<p>{{ 'Rajok' | _ }}</p>
{% component 'builderList' %}

{% if permissions['troops']['create'] > 0 %}
    <form action="/raj/letrehozas" method="post">
        <input type="hidden" name="team" value="{{ team_id }}">
        <button type="submit" class="btn rounded btn-primary" value="{{ 'Raj hozzáadása' | _ }}"><i class="csat-add-fill-wh-sm"></i> {{ 'Raj hozzáadása' | _ }}</button>
    </form>
{% endif %}

<p>{{ 'Őrsök' | _ }}</p>
{% component 'builderList2' %}

{% if user %}
<div class="row">
    <div class="col-12 col-lg-6">
        <p>{{ 'Aktív tagok' | _ }}</p>
        {% set records = activeScouts.records %}
        {% set displayColumn = activeScouts.displayColumn %}
        {% set noRecordsMessage = activeScouts.noRecordsMessage %}
        {% set detailsPage = activeScouts.detailsPage %}
        {% set detailsKeyColumn = activeScouts.detailsKeyColumn %}
        {% set detailsUrlParameter = activeScouts.detailsUrlParameter %}

        <ul class="record-list">
            {% for record in records %}
            <li>
                {% if detailsPage %}<a href="{{ detailsPage|page({ (detailsUrlParameter): attribute(record, detailsKeyColumn) }) }}">{% endif %}
                {{ record.getFullName() }}
                {% if detailsPage %}</a>{% endif %}
            </li>
            {% else %}
            <li class="no-data">{{ noRecordsMessage }}</li>
            {% endfor %}
        </ul>
    </div>
    <div class="col-12 col-lg-6">
        <p>{{ 'Inaktív tagok' | _ }}</p>
        {% set records = inactiveScouts.records %}
        {% set displayColumn = inactiveScouts.displayColumn %}
        {% set noRecordsMessage = inactiveScouts.noRecordsMessage %}
        {% set detailsPage = inactiveScouts.detailsPage %}
        {% set detailsKeyColumn = inactiveScouts.detailsKeyColumn %}
        {% set detailsUrlParameter = inactiveScouts.detailsUrlParameter %}

        <ul class="record-list">
            {% for record in records %}
            <li>
                {% if detailsPage %}<a href="{{ detailsPage|page({ (detailsUrlParameter): attribute(record, detailsKeyColumn) }) }}">{% endif %}
                {{ record.getFullName() }}
                {% if detailsPage %}</a>{% endif %}
            </li>
            {% else %}
            <li class="no-data">{{ noRecordsMessage }}</li>
            {% endfor %}
        </ul>
    </div>
</div>

{% endif %}

{% if (permissions['scouts']['create'] > 0) %}
    <a href="/tagok" class="btn rounded btn-primary"><i class="csat-add-fill-wh-sm"></i> {{ 'Felhasználói fiók létrehozása'|_ }}</a>
{% endif %}

{% if permissions['patrols']['create'] > 0 %}
    <form action="/ors/letrehozas" method="post">
        <input type="hidden" name="team" value="{{ team_id }}">
        <button type="submit" class="btn rounded btn-primary" value="{{ 'Őrs hozzáadása' | _ }}"><i class="csat-add-fill-wh-sm"></i> {{ 'Őrs hozzáadása' | _ }}</button>
    </form>
{% endif %}

{% if permissions['scouts']['create'] > 0 %}
    <form action="/tag/letrehozas" method="post">
        <input type="hidden" name="team" value="{{ team_id }}">
        <button type="submit" class="btn rounded btn-primary" value="{{ 'Tag hozzáadása' | _ }}"><i class="csat-useradd-fill-wh-md"></i> {{ 'Tag hozzáadása' |_ }}</button>
    </form>
{% endif %}

{% if permissions['teamReports']['read'] > 0 %}
    <form action="{{'/csapatjelentesek/' ~ team_id }}" method="post">
        <button type="submit" class="btn rounded btn-primary" value="{{ 'Csapatjelentések' | _ }}"><i class="csat-report-fill-wh-sm"></i> {{ 'Csapatjelentések' | _ }}</button>
    </form>
{% endif %}

